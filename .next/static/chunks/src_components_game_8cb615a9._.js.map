{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Endless-Tales/src/components/game/CardboardCard.tsx"],"sourcesContent":["\nimport * as React from \"react\"\n\nimport { cn } from \"../../lib/utils\"\nimport {\n  Card as ShadCard,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"../../components/ui/card\"\n\nconst CardboardCard = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <ShadCard\n    ref={ref}\n    className={cn(\n      \"border-2 border-foreground/30 shadow-md rounded-sm bg-card\", // Slightly less rounded, visible border\n      className\n    )}\n    {...props}\n  />\n))\nCardboardCard.displayName = \"CardboardCard\"\n\n// Re-export other Card parts for convenience\nexport { CardboardCard, CardHeader, CardFooter, CardTitle, CardDescription, CardContent };\n"],"names":[],"mappings":";;;;AACA;AAEA;AACA;;;;;AASA,MAAM,8BAAgB,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAGnC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mIAAA,CAAA,OAAQ;QACP,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8DACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Endless-Tales/src/components/game/CharacterDisplay.tsx"],"sourcesContent":["// src/components/game/CharacterDisplay.tsx\n\"use client\";\n\nimport { useGame } from \"../../context/GameContext\";\nimport { CardboardCard, CardContent, CardHeader, CardTitle } from \"../../components/game/CardboardCard\";\n// Using HandDrawnMagicIcon for Wisdom as an example, can be changed\nimport { HandDrawnStrengthIcon, HandDrawnStaminaIcon, HandDrawnMagicIcon as HandDrawnWisdomIcon } from \"../../components/icons/HandDrawnIcons\";\nimport { User, ShieldQuestion, Star, Zap, HeartPulse, ShieldCheck, Workflow, Award, Users, Milestone } from \"lucide-react\";\nimport { Badge } from \"../../components/ui/badge\";\nimport { Separator } from \"../../components/ui/separator\";\nimport { Progress } from \"../../components/ui/progress\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"../../components/ui/tooltip\";\n\nexport function CharacterDisplay() {\n  const { state } = useGame();\n  const { character } = state;\n\n  if (!character) {\n    return null;\n  }\n\n   const currentStageName = character.skillTree && character.skillTreeStage >= 0 && character.skillTree.stages.length > character.skillTreeStage\n       ? character.skillTree.stages[character.skillTreeStage]?.stageName ?? `Stage ${character.skillTreeStage}`\n       : \"Potential\";\n\n  const renderStageStars = (stage: number) => {\n    const stars = [];\n    const filledStars = Math.max(0, stage);\n    const totalStars = 4;\n    for (let i = 0; i < totalStars; i++) {\n      stars.push(\n        <Star\n          key={i}\n          className={`w-3.5 h-3.5 ${i < filledStars ? 'fill-yellow-400 text-yellow-500' : 'text-muted-foreground/30'}`}\n          aria-label={i < filledStars ? \"Stage achieved\" : \"Stage not achieved\"}\n        />\n      );\n    }\n    return stars;\n  };\n\n  return (\n    <CardboardCard className=\"mb-4 bg-card/90 backdrop-blur-sm border-2 border-foreground/20\">\n      <CardHeader className=\"pb-2 pt-4 border-b border-foreground/10\">\n        <CardTitle className=\"text-xl font-semibold flex items-center gap-2\">\n          <User className=\"w-5 h-5 text-primary\"/> {character.name || \"Unnamed Adventurer\"}\n           <Badge variant=\"secondary\" className=\"text-sm ml-auto font-bold\">\n             Lvl {character.level}\n           </Badge>\n        </CardTitle>\n         <div className=\"flex flex-wrap gap-1 mt-2\">\n             {character.class && (\n                 <Badge variant=\"default\" className=\"text-xs bg-purple-200 dark:bg-purple-800/60 border-purple-400 dark:border-purple-600 text-purple-900 dark:text-purple-100 flex items-center gap-1\">\n                     <ShieldQuestion className=\"w-3 h-3\"/> {character.class}\n                 </Badge>\n             )}\n            {character.background && ( <Badge variant=\"secondary\" className=\"text-xs\">BG: {character.background}</Badge> )}\n            {character.traits.length > 0 && character.traits.map((trait, index) => (\n                <span key={`trait-${index}`}>\n                    <Badge variant=\"outline\" className=\"text-xs\">{trait}</Badge>\n                </span>\n            ))}\n            {character.knowledge.length > 0 && character.knowledge.map((k, index) => (\n                <span key={`knowledge-${index}`}>\n                    <Badge variant=\"outline\" className=\"text-xs bg-blue-100 dark:bg-blue-900/50 border-blue-300 dark:border-blue-700\">{k}</Badge>\n                </span>\n            ))}\n         </div>\n      </CardHeader>\n      <CardContent className=\"pt-4 pb-4\">\n         <div className=\"space-y-1 mb-4\">\n            <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger asChild>\n                <div className=\"w-full cursor-help\">\n                    <div className=\"flex items-center justify-between text-xs mb-1\">\n                      <span className=\"font-medium text-yellow-600 dark:text-yellow-400 flex items-center gap-1\"> <Award className=\"w-3.5 h-3.5\"/> XP</span>\n                      <span className=\"font-mono text-muted-foreground\">{character.xp} / {character.xpToNextLevel}</span>\n                    </div>\n                    <Progress value={(character.xp / character.xpToNextLevel) * 100} className=\"h-2 bg-yellow-100 dark:bg-yellow-900/50 [&>div]:bg-yellow-500\" aria-label={`Experience points ${character.xp} of ${character.xpToNextLevel}`} />\n                </div>\n            </TooltipTrigger> <TooltipContent> <p>Experience Points</p> <p className=\"text-xs text-muted-foreground\">({character.xpToNextLevel - character.xp} needed for next level)</p> </TooltipContent> </Tooltip> </TooltipProvider>\n         </div>\n         <Separator className=\"my-3\"/>\n\n        {/* Stats Display - Updated for STR, STA, WIS */}\n        <div className=\"grid grid-cols-3 gap-2 text-center mb-4\">\n          <div className=\"flex flex-col items-center\">\n             <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger> <HandDrawnStrengthIcon className=\"w-6 h-6 mb-1 text-destructive\" /> </TooltipTrigger> <TooltipContent>Strength</TooltipContent> </Tooltip> </TooltipProvider>\n            <span className=\"text-sm font-medium\">STR</span> <span className=\"text-lg font-bold\">{character.stats.strength}</span>\n          </div>\n          <div className=\"flex flex-col items-center\">\n             <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger> <HandDrawnStaminaIcon className=\"w-6 h-6 mb-1 text-green-600\" /> </TooltipTrigger> <TooltipContent>Stamina (HP)</TooltipContent> </Tooltip> </TooltipProvider>\n            <span className=\"text-sm font-medium\">STA</span> <span className=\"text-lg font-bold\">{character.stats.stamina}</span>\n          </div>\n          <div className=\"flex flex-col items-center\">\n             <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger> <HandDrawnWisdomIcon className=\"w-6 h-6 mb-1 text-purple-500\" /> </TooltipTrigger> <TooltipContent>Wisdom</TooltipContent> </Tooltip> </TooltipProvider>\n            <span className=\"text-sm font-medium\">WIS</span> <span className=\"text-lg font-bold\">{character.stats.wisdom}</span>\n          </div>\n        </div>\n\n        {/* Resource Bars */}\n        <div className=\"space-y-3 mt-4\">\n          {/* Health Bar */}\n          <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger className=\"w-full\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <HeartPulse className=\"w-4 h-4 text-red-500\" />\n                <span className=\"text-xs font-medium text-red-600 dark:text-red-400\">Health (from STA)</span>\n                <span className=\"ml-auto text-xs font-mono text-muted-foreground\">{character.currentHealth} / {character.maxHealth}</span>\n              </div>\n              <Progress value={(character.currentHealth / character.maxHealth) * 100} className=\"h-2 bg-red-100 dark:bg-red-900/50 [&>div]:bg-red-500\" aria-label={`Health ${character.currentHealth} of ${character.maxHealth}`} />\n          </TooltipTrigger> <TooltipContent> <p>Your current hit points. Reaches 0, you die (or respawn)!</p> </TooltipContent> </Tooltip> </TooltipProvider>\n          \n          {/* Action Stamina Bar */}\n          <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger className=\"w-full\">\n              <div className=\"flex items-center gap-2 mb-1\">\n                <ShieldCheck className=\"w-4 h-4 text-green-600\" /> {/* Changed icon */}\n                <span className=\"text-xs font-medium text-green-700 dark:text-green-400\">Action Stamina (from STR)</span>\n                <span className=\"ml-auto text-xs font-mono text-muted-foreground\">{character.currentStamina} / {character.maxStamina}</span>\n              </div>\n              <Progress value={(character.currentStamina / character.maxStamina) * 100} className=\"h-2 bg-green-100 dark:bg-green-900/50 [&>div]:bg-green-500\" aria-label={`Action Stamina ${character.currentStamina} of ${character.maxStamina}`} />\n          </TooltipTrigger> <TooltipContent> <p>Energy for performing physical skills and actions.</p> </TooltipContent> </Tooltip> </TooltipProvider>\n\n          {/* Mana Bar */}\n          {character.maxMana > 0 && (\n             <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger className=\"w-full\">\n                <div className=\"flex items-center gap-2 mb-1\">\n                  <Zap className=\"w-4 h-4 text-blue-500\" />\n                  <span className=\"text-xs font-medium text-blue-600 dark:text-blue-400\">Mana (from WIS)</span>\n                  <span className=\"ml-auto text-xs font-mono text-muted-foreground\">{character.currentMana} / {character.maxMana}</span>\n                </div>\n                <Progress value={(character.currentMana / character.maxMana) * 100} className=\"h-2 bg-blue-100 dark:bg-blue-900/50 [&>div]:bg-blue-500\" aria-label={`Mana ${character.currentMana} of ${character.maxMana}`} />\n             </TooltipTrigger> <TooltipContent> <p>Magical energy for spells and special abilities.</p> </TooltipContent> </Tooltip> </TooltipProvider>\n          )}\n        </div>\n\n        {character.skillTree && (\n             <div className=\"mt-4 pt-4 border-t border-foreground/10\">\n                  <TooltipProvider delayDuration={100}> <Tooltip> <TooltipTrigger className=\"w-full text-center\">\n                       <p className=\"text-sm font-medium mb-1 flex items-center justify-center gap-1.5\"> <Workflow className=\"w-4 h-4 text-purple-600\"/> Skill Progression </p>\n                       <div className=\"flex justify-center items-center gap-1\"> {renderStageStars(character.skillTreeStage)} </div>\n                        <p className=\"text-base font-semibold text-foreground mt-1\"> {currentStageName} </p>\n                         <p className=\"text-xs text-muted-foreground\"> ({character.skillTree.className} - Stage {character.skillTreeStage}/4) </p>\n                  </TooltipTrigger> <TooltipContent side=\"bottom\"> <p>Your current stage in the {character.skillTree.className} skill tree.</p> <p>Progress further to unlock new stages and skills.</p> </TooltipContent> </Tooltip> </TooltipProvider>\n                 {character.skillTreeStage >= 0 && character.skillTree.stages[character.skillTreeStage]?.skills.length > 0 && (\n                    <div className=\"mt-3 pt-3 border-t border-dashed border-foreground/10 text-center\">\n                        <p className=\"text-xs font-semibold mb-1.5\">Skills Available at Stage {character.skillTreeStage}:</p>\n                        <div className=\"flex flex-wrap justify-center gap-1\">\n                         {character.skillTree.stages[character.skillTreeStage].skills.map(skill => {\n                            const isLearned = character.learnedSkills.some(ls => ls.name === skill.name);\n                            return (\n                                <TooltipProvider key={skill.name} delayDuration={100}> <Tooltip> <TooltipTrigger>\n                                    <Badge variant={isLearned ? \"default\" : \"outline\"} className={`text-xs font-medium cursor-help ${isLearned ? 'bg-primary/80 text-primary-foreground border-primary' : 'border-dashed border-muted-foreground/50 text-muted-foreground'}`} >\n                                        {skill.name} {isLearned ? ' âœ“' : ''}\n                                     </Badge>\n                                </TooltipTrigger> <TooltipContent> <p className=\"font-semibold\">{skill.name}</p> <p className=\"text-xs text-muted-foreground\">{skill.description}</p> {(skill.staminaCost || skill.manaCost) && ( <p className=\"text-xs mt-1\"> Cost: {skill.staminaCost && <span className=\"text-green-600\"> {skill.staminaCost} STA</span>} {skill.manaCost && <span className=\"text-blue-600\"> {skill.manaCost} Mana</span>} </p> )} {!isLearned && <p className=\"text-xs text-destructive italic mt-1\">(Not Learned)</p>} </TooltipContent> </Tooltip> </TooltipProvider>\n                            );\n                         })}\n                        </div>\n                    </div>\n                 )}\n             </div>\n         )}\n         <Separator className=\"my-3\"/>\n         <div className=\"text-xs text-muted-foreground italic\">\n             {character.aiGeneratedDescription ? ( <> <strong className=\"not-italic text-foreground/80\">AI Profile:</strong> {character.aiGeneratedDescription.length > 150 ? character.aiGeneratedDescription.substring(0, 150) + \"...\" : character.aiGeneratedDescription} </>\n             ) : character.description ? ( <> <strong className=\"not-italic text-foreground/80\">Description:</strong> {character.description.length > 150 ? character.description.substring(0, 150) + \"...\" : character.description} </>\n             ) : ( \"No description available.\" )}\n         </div>\n      </CardContent>\n    </CardboardCard>\n  );\n}"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1217, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Endless-Tales/src/components/game/InventoryDisplay.tsx"],"sourcesContent":["\n// src/components/game/InventoryDisplay.tsx\n\"use client\";\n\nimport { useGame } from \"../../context/GameContext\";\nimport type { ItemQuality } from \"../../types/game-types\"; // Import types from central location\nimport { ScrollArea } from \"../../components/ui/scroll-area\";\nimport { Backpack, PackageSearch, Package, Info, Weight, Gem, Sparkles, HeartCrack, ShieldCheck } from \"lucide-react\"; // Added icons\nimport { Badge } from \"../../components/ui/badge\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"../../components/ui/tooltip\";\nimport { getQualityColor } from \"../../lib/utils\"; // Import from utils\n\n\nexport function InventoryDisplay() {\n  const { state } = useGame();\n  const { inventory } = state;\n\n  // Determine appropriate icon based on item name (simple example)\n  const getItemIcon = (itemName: string) => {\n     const lowerName = itemName.toLowerCase();\n     if (lowerName.includes('sword') || lowerName.includes('dagger') || lowerName.includes('axe')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M14.5 17.5 3 6\"/><path d=\"m21 14-8-8\"/><path d=\"m17 17-5.5-5.5\"/><path d=\"M14 9.5 9.5 5\"/><path d=\"M17 3 7 3\"/><path d=\"M19 5 9 5\"/></svg>; // Lucide Sword icon replacement\n     if (lowerName.includes('shield')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10\"/></svg>; // Lucide Shield\n     if (lowerName.includes('potion') || lowerName.includes('flask')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M8 2h8\"/><path d=\"M7 2v4.64a1 1 0 0 0 .4 1l4.24 4.24a1 1 0 0 1 .4 1L11.4 18\"/><path d=\"M8 22h8\"/><path d=\"M7 18h10\"/></svg>; // Lucide FlaskConical\n     if (lowerName.includes('book') || lowerName.includes('tome') || lowerName.includes('scroll')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20\"/></svg>; // Lucide Book\n     if (lowerName.includes('key')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><circle cx=\"7.5\" cy=\"15.5\" r=\"5.5\"/><path d=\"m21 2-9.6 9.6\"/><path d=\"m15.5 7.5 3 3L22 7l-3-3\"/></svg>; // Lucide Key\n     if (lowerName.includes('clothes') || lowerName.includes('armor') || lowerName.includes('robe') || lowerName.includes('chestplate')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M14 21c-2.4-2-2.4-6 0-8\"/><path d=\"M10 21c2.4-2 2.4-6 0-8\"/><path d=\"M15 3a1 1 0 0 0-1 1v4.2c0 .4 0 .9-.3 1.3l-2.9 4.1c-.1.2-.2.3-.4.4H8.7c-.2-.1-.3-.2-.4-.4L5.4 9.6c-.3-.4-.3-.9-.3-1.3V4a1 1 0 0 0-1-1\"/><path d=\"M10 11h4\"/></svg>; // Lucide Shirt\n     if (lowerName.includes('bread') || lowerName.includes('food') || lowerName.includes('apple')) return <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M13 13a2 2 0 0 0-2 2.83 1 1 0 0 1-.83.83 2 2 0 0 0-2.83 2 1 1 0 0 1-.83.83 2 2 0 0 0 0 2.83 1 1 0 0 1 .83.83 2 2 0 0 0 2.83 0 1 1 0 0 1 .83-.83 2 2 0 0 0 0-2.83 1 1 0 0 1-.83-.83 2 2 0 0 0-2.83-2 1 1 0 0 1-.83-.83 2 2 0 0 0-2.83 0 1 1 0 0 1-.83.83 2 2 0 0 0 2 2.83 1 1 0 0 1 .83.83 2 2 0 0 0 2.83 0 1 1 0 0 1 .83-.83 2 2 0 0 0 0-2.83 1 1 0 0 1-.83-.83 2 2 0 0 0-2.83-2 1 1 0 0 1-.83.83 2 2 0 0 0-2.83 0 1 1 0 0 1 .83.83 2 2 0 0 0 2.83 0 1 1 0 0 1 .83-.83Z\"/></svg>; // Lucide Apple (placeholder for food)\n     // Default icon\n     return <Package className=\"w-4 h-4\" />;\n  };\n\n  return (\n    <div className=\"h-full flex flex-col\"> {/* Use flex to fill height */}\n      <ScrollArea className=\"flex-grow p-4\"> {/* Use flex-grow and add padding */}\n        {inventory.length === 0 ? (\n          <div className=\"flex flex-col items-center justify-center h-full text-center text-muted-foreground py-4\">\n              <PackageSearch className=\"w-8 h-8 mb-2 opacity-50\"/>\n              <p className=\"text-sm italic\">Your backpack is empty.</p>\n          </div>\n        ) : (\n          <TooltipProvider delayDuration={100}>\n             <ul className=\"space-y-2\">\n                {inventory.map((item, index) => (\n                  <li key={`${item.name}-${index}`} className=\"flex items-center justify-between p-2 border border-foreground/10 rounded-sm bg-background/50 hover:bg-accent/10 transition-colors text-sm\">\n                      <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n                         {getItemIcon(item.name)}\n                         <span className={`truncate ${getQualityColor(item.quality)}`} title={item.name}>{item.name}</span>\n                         {item.quality && item.quality !== \"Common\" && (\n                             <Badge variant=\"outline\" className={`text-xs ml-1 py-0 px-1 h-4 border-0 ${getQualityColor(item.quality)} bg-transparent`}>\n                                {item.quality}\n                             </Badge>\n                         )}\n                      </div>\n                      <Tooltip>\n                          <TooltipTrigger asChild>\n                              <button className=\"ml-2 p-1 text-muted-foreground hover:text-foreground focus:outline-none focus:ring-1 focus:ring-ring rounded-full\">\n                                 <Info className=\"w-4 h-4\" />\n                                 <span className=\"sr-only\">Item Info</span>\n                              </button>\n                          </TooltipTrigger>\n                          <TooltipContent side=\"left\" className=\"max-w-xs\">\n                              <p className={`font-semibold ${getQualityColor(item.quality)}`}>{item.name}</p>\n                              <p className=\"text-xs text-muted-foreground mt-1\">{item.description}</p>\n                              <div className=\"mt-2 pt-2 border-t border-border/50 text-xs space-y-1\">\n                                 {item.quality && (\n                                    <p className=\"flex items-center gap-1\"><Gem className=\"w-3 h-3 text-purple-500\"/> Quality: <span className={getQualityColor(item.quality)}>{item.quality}</span></p>\n                                 )}\n                                 {item.weight !== undefined && (\n                                     <p className=\"flex items-center gap-1\"><Weight className=\"w-3 h-3 text-gray-500\"/> Weight: {item.weight}</p>\n                                 )}\n                                  {item.durability !== undefined && (\n                                     <p className=\"flex items-center gap-1\"><ShieldCheck className=\"w-3 h-3 text-blue-500\"/> Durability: {item.durability}%</p>\n                                  )}\n                                  {item.magicalEffect && (\n                                     <p className=\"flex items-center gap-1\"><Sparkles className=\"w-3 h-3 text-yellow-500\"/> Effect: {item.magicalEffect}</p>\n                                  )}\n                              </div>\n                          </TooltipContent>\n                      </Tooltip>\n                  </li>\n                ))}\n            </ul>\n          </TooltipProvider>\n        )}\n      </ScrollArea>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1780, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Endless-Tales/src/components/game/SkillTreeDisplay.tsx"],"sourcesContent":["\n// src/components/game/SkillTreeDisplay.tsx\n\"use client\";\n\nimport React from \"react\";\nimport type { SkillTree, Skill } from \"../../types/game-types\"; // Import types from central location\nimport { CardboardCard, CardContent, CardHeader, CardTitle, CardDescription } from \"../../components/game/CardboardCard\";\nimport { ScrollArea } from \"../../components/ui/scroll-area\";\nimport { Badge } from \"../../components/ui/badge\";\nimport { Star, Lock, Unlock, Sparkles, CheckCircle2, CircleDot, Workflow } from \"lucide-react\"; // Added CheckCircle2, CircleDot, Workflow\nimport {\n  Accordion,\n  AccordionContent,\n  AccordionItem,\n  AccordionTrigger,\n} from \"../../components/ui/accordion\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"../../components/ui/tooltip\";\n\ninterface SkillTreeDisplayProps {\n  skillTree: SkillTree;\n  currentStage: number; // Stage the character has achieved (0-4)\n  learnedSkills: Skill[]; // Pass the list of actually learned skills\n}\n\nexport function SkillTreeDisplay({ skillTree, currentStage, learnedSkills }: SkillTreeDisplayProps) {\n\n  if (!skillTree || !skillTree.stages || skillTree.stages.length !== 5) { // Check for 5 stages (0-4)\n    return (\n      <CardboardCard className=\"m-4\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\"><Workflow className=\"w-5 h-5\"/> Skill Tree Error</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-destructive\">Invalid skill tree data provided.</p>\n        </CardContent>\n      </CardboardCard>\n    );\n  }\n\n  // Sort stages just in case they are not in order (0-4)\n  const sortedStages = [...skillTree.stages].sort((a, b) => a.stage - b.stage);\n\n   // Find the stage to open by default (the highest unlocked stage)\n   const defaultOpenStageValue = `stage-${currentStage}`;\n\n\n  return (\n    <ScrollArea className=\"h-full p-4\">\n      <TooltipProvider delayDuration={100}>\n\n        {/* Learned Skills Section */}\n         <div className=\"mb-4 border-b pb-3\">\n            <h4 className=\"text-sm font-semibold mb-2 flex items-center gap-1\">\n               <CheckCircle2 className=\"w-4 h-4 text-primary\"/> Learned Skills ({learnedSkills.length})\n            </h4>\n            {learnedSkills.length > 0 ? (\n               <div className=\"flex flex-wrap gap-1\">\n                  {learnedSkills.map((skill) => (\n                     <Tooltip key={skill.name}>\n                        <TooltipTrigger>\n                           <Badge variant=\"secondary\" className=\"cursor-help text-xs py-0.5 px-1.5\">\n                              {skill.name} {skill.type === 'Starter' ? '(S)' : ''} {/* Shorten Starter */}\n                           </Badge>\n                        </TooltipTrigger>\n                        <TooltipContent side=\"top\" align=\"start\" className=\"max-w-xs\">\n                           <p className=\"font-semibold\">{skill.name} {skill.type === 'Starter' ? '(Starter)' : ''}</p>\n                           <p className=\"text-xs text-muted-foreground\">{skill.description}</p>\n                            {(skill.staminaCost !== undefined || skill.manaCost !== undefined) && <p className=\"text-xs mt-1\">Cost: {skill.staminaCost && <span className=\"text-green-600\">{skill.staminaCost} STA </span>} {skill.manaCost && <span className=\"text-blue-600\">{skill.manaCost} Mana</span>}</p>}\n                        </TooltipContent>\n                     </Tooltip>\n                  ))}\n               </div>\n            ) : (\n               <p className=\"text-xs text-muted-foreground italic\">No skills learned yet.</p>\n            )}\n         </div>\n\n        <h3 className=\"text-base font-semibold mb-2 flex items-center gap-1.5 text-purple-700 dark:text-purple-400\">\n            <Workflow className=\"w-4 h-4\"/> {skillTree.className} Skill Tree\n        </h3>\n        <Accordion type=\"single\" collapsible defaultValue={defaultOpenStageValue} className=\"w-full\">\n          {sortedStages.map((stageData) => {\n            const isUnlocked = stageData.stage <= currentStage;\n            const isCurrent = stageData.stage === currentStage;\n            const stageIcon = stageData.stage === 0 ? Sparkles : isUnlocked ? Unlock : Lock;\n            const stageColor = isCurrent ? 'text-accent' : isUnlocked ? 'text-primary' : 'text-muted-foreground';\n            const StageIcon = stageIcon; // Assign to an uppercase variable\n\n            return (\n              <AccordionItem key={`stage-${stageData.stage}`} value={`stage-${stageData.stage}`} className=\"mb-2 border rounded-md overflow-hidden border-border/50\">\n                 <AccordionTrigger\n                    className={`flex justify-between items-center px-3 py-2 ${\n                      isCurrent ? 'bg-accent/10 border-l-4 border-accent' : isUnlocked ? 'bg-primary/5' : 'bg-muted/30 opacity-70'\n                    } hover:bg-accent/5 hover:no-underline transition-colors`}\n                     disabled={!isUnlocked && stageData.stage > 0} // Only disable locked stages > 0\n                 >\n                   <div className=\"flex items-center gap-2 flex-1 min-w-0\">\n                     <Tooltip>\n                        <TooltipTrigger asChild>\n                            <span className=\"flex items-center gap-2\">\n                                <StageIcon className={`w-4 h-4 flex-shrink-0 ${isUnlocked ? 'text-green-600' : 'text-muted-foreground'}`} />\n                                <span className={`font-semibold truncate ${stageColor}`}>\n                                   {stageData.stageName || `Stage ${stageData.stage}`}\n                                </span>\n                            </span>\n                         </TooltipTrigger>\n                          <TooltipContent side=\"top\">Stage {stageData.stage}: {stageData.stageName}</TooltipContent>\n                     </Tooltip>\n                      {/* Display 'Current' badge */}\n                      {isCurrent && <Badge variant=\"default\" className=\"text-xs ml-auto mr-2 py-0 px-1.5 h-5\">Current</Badge>}\n                   </div>\n                    {/* Star rating */}\n                    <div className=\"flex items-center gap-0.5 ml-2 flex-shrink-0\">\n                         <Tooltip>\n                             <TooltipTrigger asChild>\n                                 <span className=\"flex items-center gap-0.5\">\n                                     {[...Array(stageData.stage)].map((_, i) => (\n                                         <Star key={i} className=\"w-3 h-3 fill-yellow-400 text-yellow-500\" />\n                                     ))}\n                                     {[...Array(4 - stageData.stage)].map((_, i) => (\n                                        <Star key={`empty-${i}`} className=\"w-3 h-3 text-muted-foreground/30\" />\n                                    ))}\n                                 </span>\n                            </TooltipTrigger>\n                             <TooltipContent side=\"top\">Stage {stageData.stage} / 4 Achieved</TooltipContent>\n                         </Tooltip>\n                    </div>\n                 </AccordionTrigger>\n                 <AccordionContent className=\"pt-3 pl-5 pr-3 pb-4 bg-background\">\n                   {isUnlocked || stageData.stage === 0 ? ( // Allow viewing stage 0 even if technically \"locked\" (currentStage is 0)\n                     stageData.skills && stageData.skills.length > 0 ? (\n                       <ul className=\"space-y-2\">\n                          <p className=\"text-xs text-muted-foreground mb-2 italic\">Skills available at this stage:</p>\n                         {stageData.skills.map((skill) => {\n                            const isLearned = learnedSkills.some(ls => ls.name === skill.name);\n\n                           return (\n                             <li key={skill.name} className=\"text-sm flex items-start gap-2\">\n                                {isLearned ? <CheckCircle2 className=\"w-3.5 h-3.5 text-green-600 flex-shrink-0 mt-0.5\"/> : <CircleDot className=\"w-3.5 h-3.5 text-muted-foreground/50 flex-shrink-0 mt-0.5\"/>}\n                                <Tooltip>\n                                   <TooltipTrigger asChild>\n                                      <span className={`font-medium ${isLearned ? 'cursor-help ' : 'text-muted-foreground italic cursor-help'}`}>\n                                          {skill.name}\n                                          {isLearned && <span className=\"text-green-600 font-normal text-xs\"> (Learned)</span>}\n                                      </span>\n                                   </TooltipTrigger>\n                                    <TooltipContent side=\"bottom\" align=\"start\" className=\"max-w-xs\">\n                                       <p className=\"font-semibold\">{skill.name}</p>\n                                       <p className=\"text-xs text-muted-foreground\">{skill.description}</p>\n                                        {(skill.staminaCost !== undefined || skill.manaCost !== undefined) && <p className=\"text-xs mt-1\">Cost: {skill.staminaCost && <span className=\"text-green-600\">{skill.staminaCost} STA </span>} {skill.manaCost && <span className=\"text-blue-600\">{skill.manaCost} Mana</span>}</p>}\n                                       {!isLearned && <p className=\"text-xs text-destructive italic mt-1\">(Not Learned Yet)</p>}\n                                    </TooltipContent>\n                                </Tooltip>\n                             </li>\n                           );\n                         })}\n                       </ul>\n                     ) : (\n                        stageData.stage > 0 ?\n                       <p className=\"text-sm text-muted-foreground italic\">No specific new skills become available at this stage.</p> :\n                        <p className=\"text-sm text-muted-foreground italic\">This is the starting point. Advance further to unlock skills.</p>\n                     )\n                   ) : (\n                     <p className=\"text-sm text-muted-foreground italic\">Locked. Progress further to unlock this stage.</p>\n                   )}\n                 </AccordionContent>\n              </AccordionItem>\n            );\n          })}\n        </Accordion>\n      </TooltipProvider>\n    </ScrollArea>\n  );\n}\n"],"names":[],"mappings":"AACA,2CAA2C;;;;;AAK3C;AAAA;AAAA;AACA;AACA;AACA,sVAAgG,0CAA0C;AAA1I;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAMA;AAdA;;;;;;;;AA2BO,SAAS,iBAAiB,EAAE,SAAS,EAAE,YAAY,EAAE,aAAa,EAAyB;IAEhG,IAAI,CAAC,aAAa,CAAC,UAAU,MAAM,IAAI,UAAU,MAAM,CAAC,MAAM,KAAK,GAAG;QACpE,qBACE,6LAAC,8JAAA,CAAA,gBAAa;YAAC,WAAU;;8BACvB,6LAAC,mIAAA,CAAA,aAAU;8BACT,cAAA,6LAAC,mIAAA,CAAA,YAAS;wBAAC,WAAU;;0CAA0B,6LAAC,6MAAA,CAAA,WAAQ;gCAAC,WAAU;;;;;;4BAAW;;;;;;;;;;;;8BAEhF,6LAAC,mIAAA,CAAA,cAAW;8BACV,cAAA,6LAAC;wBAAE,WAAU;kCAAmB;;;;;;;;;;;;;;;;;IAIxC;IAEA,uDAAuD;IACvD,MAAM,eAAe;WAAI,UAAU,MAAM;KAAC,CAAC,IAAI,CAAC,CAAC,GAAG,IAAM,EAAE,KAAK,GAAG,EAAE,KAAK;IAE1E,iEAAiE;IACjE,MAAM,wBAAwB,CAAC,MAAM,EAAE,cAAc;IAGtD,qBACE,6LAAC,6IAAA,CAAA,aAAU;QAAC,WAAU;kBACpB,cAAA,6LAAC,sIAAA,CAAA,kBAAe;YAAC,eAAe;;8BAG7B,6LAAC;oBAAI,WAAU;;sCACZ,6LAAC;4BAAG,WAAU;;8CACX,6LAAC,wNAAA,CAAA,eAAY;oCAAC,WAAU;;;;;;gCAAwB;gCAAkB,cAAc,MAAM;gCAAC;;;;;;;wBAEzF,cAAc,MAAM,GAAG,kBACrB,6LAAC;4BAAI,WAAU;sCACX,cAAc,GAAG,CAAC,CAAC,sBACjB,6LAAC,sIAAA,CAAA,UAAO;;sDACL,6LAAC,sIAAA,CAAA,iBAAc;sDACZ,cAAA,6LAAC,oIAAA,CAAA,QAAK;gDAAC,SAAQ;gDAAY,WAAU;;oDACjC,MAAM,IAAI;oDAAC;oDAAE,MAAM,IAAI,KAAK,YAAY,QAAQ;oDAAG;;;;;;;;;;;;sDAG1D,6LAAC,sIAAA,CAAA,iBAAc;4CAAC,MAAK;4CAAM,OAAM;4CAAQ,WAAU;;8DAChD,6LAAC;oDAAE,WAAU;;wDAAiB,MAAM,IAAI;wDAAC;wDAAE,MAAM,IAAI,KAAK,YAAY,cAAc;;;;;;;8DACpF,6LAAC;oDAAE,WAAU;8DAAiC,MAAM,WAAW;;;;;;gDAC7D,CAAC,MAAM,WAAW,KAAK,aAAa,MAAM,QAAQ,KAAK,SAAS,mBAAK,6LAAC;oDAAE,WAAU;;wDAAe;wDAAO,MAAM,WAAW,kBAAI,6LAAC;4DAAK,WAAU;;gEAAkB,MAAM,WAAW;gEAAC;;;;;;;wDAAa;wDAAE,MAAM,QAAQ,kBAAI,6LAAC;4DAAK,WAAU;;gEAAiB,MAAM,QAAQ;gEAAC;;;;;;;;;;;;;;;;;;;;mCAT5P,MAAM,IAAI;;;;;;;;;iDAe9B,6LAAC;4BAAE,WAAU;sCAAuC;;;;;;;;;;;;8BAI3D,6LAAC;oBAAG,WAAU;;sCACV,6LAAC,6MAAA,CAAA,WAAQ;4BAAC,WAAU;;;;;;wBAAW;wBAAE,UAAU,SAAS;wBAAC;;;;;;;8BAEzD,6LAAC,wIAAA,CAAA,YAAS;oBAAC,MAAK;oBAAS,WAAW;oBAAC,cAAc;oBAAuB,WAAU;8BACjF,aAAa,GAAG,CAAC,CAAC;wBACjB,MAAM,aAAa,UAAU,KAAK,IAAI;wBACtC,MAAM,YAAY,UAAU,KAAK,KAAK;wBACtC,MAAM,YAAY,UAAU,KAAK,KAAK,IAAI,6MAAA,CAAA,WAAQ,GAAG,aAAa,+MAAA,CAAA,SAAM,GAAG,qMAAA,CAAA,OAAI;wBAC/E,MAAM,aAAa,YAAY,gBAAgB,aAAa,iBAAiB;wBAC7E,MAAM,YAAY,WAAW,kCAAkC;wBAE/D,qBACE,6LAAC,wIAAA,CAAA,gBAAa;4BAAkC,OAAO,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;4BAAE,WAAU;;8CAC1F,6LAAC,wIAAA,CAAA,mBAAgB;oCACd,WAAW,CAAC,4CAA4C,EACtD,YAAY,0CAA0C,aAAa,iBAAiB,yBACrF,uDAAuD,CAAC;oCACxD,UAAU,CAAC,cAAc,UAAU,KAAK,GAAG;;sDAE7C,6LAAC;4CAAI,WAAU;;8DACb,6LAAC,sIAAA,CAAA,UAAO;;sEACL,6LAAC,sIAAA,CAAA,iBAAc;4DAAC,OAAO;sEACnB,cAAA,6LAAC;gEAAK,WAAU;;kFACZ,6LAAC;wEAAU,WAAW,CAAC,sBAAsB,EAAE,aAAa,mBAAmB,yBAAyB;;;;;;kFACxG,6LAAC;wEAAK,WAAW,CAAC,uBAAuB,EAAE,YAAY;kFACnD,UAAU,SAAS,IAAI,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;;;;;;;;;;;;;;;;;sEAI3D,6LAAC,sIAAA,CAAA,iBAAc;4DAAC,MAAK;;gEAAM;gEAAO,UAAU,KAAK;gEAAC;gEAAG,UAAU,SAAS;;;;;;;;;;;;;gDAG3E,2BAAa,6LAAC,oIAAA,CAAA,QAAK;oDAAC,SAAQ;oDAAU,WAAU;8DAAuC;;;;;;;;;;;;sDAG1F,6LAAC;4CAAI,WAAU;sDACV,cAAA,6LAAC,sIAAA,CAAA,UAAO;;kEACJ,6LAAC,sIAAA,CAAA,iBAAc;wDAAC,OAAO;kEACnB,cAAA,6LAAC;4DAAK,WAAU;;gEACX;uEAAI,MAAM,UAAU,KAAK;iEAAE,CAAC,GAAG,CAAC,CAAC,GAAG,kBACjC,6LAAC,qMAAA,CAAA,OAAI;wEAAS,WAAU;uEAAb;;;;;gEAEd;uEAAI,MAAM,IAAI,UAAU,KAAK;iEAAE,CAAC,GAAG,CAAC,CAAC,GAAG,kBACtC,6LAAC,qMAAA,CAAA,OAAI;wEAAoB,WAAU;uEAAxB,CAAC,MAAM,EAAE,GAAG;;;;;;;;;;;;;;;;kEAIlC,6LAAC,sIAAA,CAAA,iBAAc;wDAAC,MAAK;;4DAAM;4DAAO,UAAU,KAAK;4DAAC;;;;;;;;;;;;;;;;;;;;;;;;8CAI9D,6LAAC,wIAAA,CAAA,mBAAgB;oCAAC,WAAU;8CACzB,cAAc,UAAU,KAAK,KAAK,IACjC,UAAU,MAAM,IAAI,UAAU,MAAM,CAAC,MAAM,GAAG,kBAC5C,6LAAC;wCAAG,WAAU;;0DACX,6LAAC;gDAAE,WAAU;0DAA4C;;;;;;4CACzD,UAAU,MAAM,CAAC,GAAG,CAAC,CAAC;gDACpB,MAAM,YAAY,cAAc,IAAI,CAAC,CAAA,KAAM,GAAG,IAAI,KAAK,MAAM,IAAI;gDAElE,qBACE,6LAAC;oDAAoB,WAAU;;wDAC3B,0BAAY,6LAAC,wNAAA,CAAA,eAAY;4DAAC,WAAU;;;;;iFAAsD,6LAAC,mNAAA,CAAA,YAAS;4DAAC,WAAU;;;;;;sEAChH,6LAAC,sIAAA,CAAA,UAAO;;8EACL,6LAAC,sIAAA,CAAA,iBAAc;oEAAC,OAAO;8EACpB,cAAA,6LAAC;wEAAK,WAAW,CAAC,YAAY,EAAE,YAAY,iBAAiB,4CAA4C;;4EACpG,MAAM,IAAI;4EACV,2BAAa,6LAAC;gFAAK,WAAU;0FAAqC;;;;;;;;;;;;;;;;;8EAGzE,6LAAC,sIAAA,CAAA,iBAAc;oEAAC,MAAK;oEAAS,OAAM;oEAAQ,WAAU;;sFACnD,6LAAC;4EAAE,WAAU;sFAAiB,MAAM,IAAI;;;;;;sFACxC,6LAAC;4EAAE,WAAU;sFAAiC,MAAM,WAAW;;;;;;wEAC7D,CAAC,MAAM,WAAW,KAAK,aAAa,MAAM,QAAQ,KAAK,SAAS,mBAAK,6LAAC;4EAAE,WAAU;;gFAAe;gFAAO,MAAM,WAAW,kBAAI,6LAAC;oFAAK,WAAU;;wFAAkB,MAAM,WAAW;wFAAC;;;;;;;gFAAa;gFAAE,MAAM,QAAQ,kBAAI,6LAAC;oFAAK,WAAU;;wFAAiB,MAAM,QAAQ;wFAAC;;;;;;;;;;;;;wEACnQ,CAAC,2BAAa,6LAAC;4EAAE,WAAU;sFAAuC;;;;;;;;;;;;;;;;;;;mDAbpE,MAAM,IAAI;;;;;4CAkBvB;;;;;;+CAGD,UAAU,KAAK,GAAG,kBACnB,6LAAC;wCAAE,WAAU;kDAAuC;;;;;6DACnD,6LAAC;wCAAE,WAAU;kDAAuC;;;;;6DAGvD,6LAAC;wCAAE,WAAU;kDAAuC;;;;;;;;;;;;2BA1EvC,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;;;;;oBA+ElD;;;;;;;;;;;;;;;;;AAKV;KArJgB","debugId":null}},
    {"offset": {"line": 2383, "column": 0}, "map": {"version":3,"sources":["file:///workspaces/Endless-Tales/src/components/game/LeftPanel.tsx"],"sourcesContent":["\n// src/components/game/LeftPanel.tsx\n\"use client\";\n\nimport React from \"react\";\nimport type {\n    Character, Reputation, NpcRelationships\n} from '../../types/game-types';\nimport type { InventoryItem } from '../../types/inventory-types';\nimport { useGame } from \"../../context/GameContext\";\nimport { CharacterDisplay } from \"../../components/game/CharacterDisplay\";\nimport { InventoryDisplay } from \"../../components/game/InventoryDisplay\";\nimport { SkillTreeDisplay } from \"../../components/game/SkillTreeDisplay\";\nimport { CardboardCard, CardContent } from \"../../components/game/CardboardCard\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"../../components/ui/tabs\";\nimport { Separator } from \"../../components/ui/separator\";\nimport { Progress } from \"../../components/ui/progress\";\nimport { Label } from \"../../components/ui/label\";\nimport { Tooltip, TooltipContent, TooltipTrigger, TooltipProvider } from \"../../components/ui/tooltip\";\nimport {\n    Award, Users, HeartPulse, CalendarClock, Milestone, Backpack, Workflow, Loader2, User\n} from \"lucide-react\";\nimport { ScrollArea } from \"../../components/ui/scroll-area\";\n\ninterface LeftPanelProps {\n    character: Character;\n    inventory: InventoryItem[];\n    isGeneratingSkillTree: boolean;\n    turnCount: number;\n    renderReputation: (rep: Reputation | undefined) => React.ReactNode;\n    renderNpcRelationships: (rels: NpcRelationships | undefined) => React.ReactNode;\n}\n\nexport function LeftPanel({\n    character,\n    inventory,\n    isGeneratingSkillTree,\n    turnCount,\n    renderReputation,\n    renderNpcRelationships\n}: LeftPanelProps) {\n    const { state } = useGame();\n    const showSkillsTab = state.adventureSettings.adventureType !== \"Immersed\";\n    const initialTab = \"character\";\n\n    return (\n        <div className=\"hidden md:flex flex-col w-80 lg:w-96 p-4 border-r border-foreground/10 bg-card/50 h-full\">\n            <Tabs defaultValue={initialTab} className=\"flex-grow flex flex-col min-h-0 h-full\">\n                {/* Restored closer to default TabsList styling, adding flex-wrap and ensuring min-height */}\n                <TabsList className=\"inline-flex flex-wrap w-full justify-start items-center gap-1 p-1 mb-2 rounded-md bg-muted text-muted-foreground min-h-[2.5rem] h-auto\">\n                    <TabsTrigger value=\"character\" className=\"flex-initial flex items-center justify-center gap-1.5 text-xs sm:text-sm px-2.5 py-1.5 h-9\">\n                        <User className=\"w-4 h-4\"/> Character\n                    </TabsTrigger>\n                    <TabsTrigger value=\"progression\" className=\"flex-initial flex items-center justify-center gap-1.5 text-xs sm:text-sm px-2.5 py-1.5 h-9\">\n                        <Milestone className=\"w-4 h-4\"/> Progression\n                    </TabsTrigger>\n                    <TabsTrigger value=\"inventory\" className=\"flex-initial flex items-center justify-center gap-1.5 text-xs sm:text-sm px-2.5 py-1.5 h-9\">\n                        <Backpack className=\"w-4 h-4\"/> Inventory\n                    </TabsTrigger>\n                    {showSkillsTab && (\n                        <TabsTrigger value=\"skills\" className=\"flex-initial flex items-center justify-center gap-1.5 text-xs sm:text-sm px-2.5 py-1.5 h-9\">\n                            <Workflow className=\"w-4 h-4\"/> Skills\n                        </TabsTrigger>\n                    )}\n                </TabsList>\n                \n\n                <div className=\"flex-grow overflow-hidden mt-0\"> {/* This div ensures the content area below tabs takes remaining space */}\n                    <TabsContent value=\"character\" className=\"h-full m-0\">\n                         <ScrollArea className=\"h-full pr-3\">\n                            <CharacterDisplay />\n                        </ScrollArea>\n                    </TabsContent>\n\n                    <TabsContent value=\"progression\" className=\"h-full m-0\">\n                         <ScrollArea className=\"h-full pr-3\">\n                            <CardboardCard className=\"bg-transparent shadow-none border-0\">\n                                <CardContent className=\"pt-4 pb-4 text-sm space-y-3\">\n                                     <TooltipProvider delayDuration={100}>\n                                        <Tooltip>\n                                            <TooltipTrigger className=\"w-full cursor-help text-left\">\n                                                <div className=\"flex items-center justify-between mb-1\">\n                                                    <span className=\"text-sm font-medium flex items-center gap-1\"><Award className=\"w-3.5 h-3.5\"/> Level:</span>\n                                                    <span className=\"font-bold text-base\">{character.level}</span>\n                                                    <span className=\"ml-auto font-medium text-muted-foreground\">XP:</span>\n                                                    <span className=\"font-mono text-muted-foreground\">{character.xp} / {character.xpToNextLevel}</span>\n                                                </div>\n                                                <Progress\n                                                    value={(character.xp / character.xpToNextLevel) * 100}\n                                                    className=\"h-2 bg-yellow-100 dark:bg-yellow-900/50 [&>div]:bg-yellow-500\"\n                                                    aria-label={`Experience points ${character.xp} of ${character.xpToNextLevel}`}\n                                                />\n                                            </TooltipTrigger>\n                                            <TooltipContent>\n                                                <p>Experience Points</p>\n                                                <p className=\"text-xs text-muted-foreground\">({character.xpToNextLevel - character.xp} needed for next level)</p>\n                                            </TooltipContent>\n                                        </Tooltip>\n                                     </TooltipProvider>\n\n                                    <Separator />\n                                    <div className=\"space-y-1\">\n                                        <Label className=\"text-sm font-medium flex items-center gap-1\"><Users className=\"w-3.5 h-3.5\"/> Reputation:</Label>\n                                        {renderReputation(character.reputation)}\n                                    </div>\n\n                                    <Separator />\n                                    <div className=\"space-y-1\">\n                                        <Label className=\"text-sm font-medium flex items-center gap-1 mb-1\"><HeartPulse className=\"w-3.5 h-3.5\"/> Relationships:</Label>\n                                        {renderNpcRelationships(character.npcRelationships)}\n                                    </div>\n\n                                    <Separator />\n                                    <div className=\"flex justify-between items-center\">\n                                         <Label className=\"text-sm font-medium flex items-center gap-1\"><CalendarClock className=\"w-3.5 h-3.5\"/> Turn:</Label>\n                                         <span className=\"font-bold text-base\">{turnCount}</span>\n                                    </div>\n                                </CardContent>\n                            </CardboardCard>\n                         </ScrollArea>\n                    </TabsContent>\n\n                    <TabsContent value=\"inventory\" className=\"h-full m-0\">\n                        <InventoryDisplay />\n                    </TabsContent>\n\n                    {showSkillsTab && (\n                     <TabsContent value=\"skills\" className=\"h-full m-0\">\n                         {character.skillTree && !isGeneratingSkillTree ? (\n                             <SkillTreeDisplay skillTree={character.skillTree} learnedSkills={character.learnedSkills} currentStage={character.skillTreeStage}/>\n                         ) : (\n                             <div className=\"flex items-center justify-center h-full text-muted-foreground italic p-4\">\n                                 {isGeneratingSkillTree ? (\n                                     <>\n                                         <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                                         Generating skill tree...\n                                     </>\n                                 ) : (\n                                      state.adventureSettings.adventureType === \"Immersed\" ? \"Skill progression is narrative-driven in Immersed mode.\" : \"No skill tree available.\"\n                                 )}\n                             </div>\n                         )}\n                     </TabsContent>\n                    )}\n                </div>\n            </Tabs>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}